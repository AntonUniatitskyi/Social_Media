{% extends 'social/base.html' %}
{% load humanize %}

{% block title %}
    –°–ø–æ–≤—ñ—â–µ–Ω–Ω—è
{% endblock title %}

{% block content %}
<div class="max-w-2xl mx-auto px-4 py-6">
    <!-- –ó–∞–ø—Ä–æ—à–µ–Ω–Ω—è –¥–æ –≥—Ä—É–ø -->
    <div class="mb-12">
        <h2 class="text-2xl font-bold mb-6 text-center text-gray-800">üì© –ó–∞–ø—Ä–æ—à–µ–Ω–Ω—è –¥–æ –≥—Ä—É–ø</h2>

        {% if invites %}
            <ul class="space-y-6">
                {% for invite in invites %}
                    {% if invite.accepted is None %}
                        <li class="bg-white border border-gray-200 rounded-2xl shadow-md hover:shadow-xl transition duration-300 p-6">
                            <div class="flex flex-col sm:flex-row items-start sm:items-center justify-between gap-6">
                                <div class="flex-1 text-gray-700">
                                    <p class="text-base leading-relaxed">
                                        <span class="font-semibold text-gray-900">{{ invite.from_user.username }}</span>
                                        –∑–∞–ø—Ä–æ—Å–∏–≤ —Ç–µ–±–µ —É –≥—Ä—É–ø—É
                                        <span class="font-semibold text-blue-600">{{ invite.chat_group.group_chat_name }}</span>.
                                    </p>
                                </div>

                                <div class="flex gap-4">
                                    <a href="{% url 'respond_to_invite' invite.id 'accept' %}"
                                       class="inline-flex items-center gap-1 px-5 py-3 text-sm font-semibold bg-green-500 text-white rounded-xl hover:bg-green-600 transition shadow-md">
                                        ‚úÖ –ü—Ä–∏–π–Ω—è—Ç–∏
                                    </a>
                                    <a href="{% url 'respond_to_invite' invite.id 'reject' %}"
                                       class="inline-flex items-center gap-1 px-5 py-3 text-sm font-semibold bg-red-500 text-white rounded-xl hover:bg-red-600 transition shadow-md">
                                        ‚ùå –í—ñ–¥—Ö–∏–ª–∏—Ç–∏
                                    </a>
                                </div>
                            </div>
                        </li>
                    {% endif %}
                {% endfor %}
            </ul>
        {% else %}
            <div class="text-center text-gray-500 py-12">
                <p class="text-lg">üîï –ù–µ–º–∞—î –Ω–æ–≤–∏—Ö –∑–∞–ø—Ä–æ—à–µ–Ω—å.</p>
            </div>
        {% endif %}
    </div><hr class="mb-4">

    <div>
        <h2 class="text-2xl font-bold mb-6 text-center text-gray-800">üîî –°–ø–æ–≤—ñ—â–µ–Ω–Ω—è</h2>
        {% for notif in notifications %}
            <div class="bg-white p-4 rounded-xl shadow-sm mb-4 {% if not notif.is_read %}border-l-4 border-blue-500{% endif %}">
                <p class="text-gray-700 text-lg {% if not notif.is_read %}font-semibold{% endif %}">{{ notif.message }}</p>
                <small class="text-gray-500">{{ notif.created_at|naturaltime }}</small>
            </div>
        {% empty %}
            <div class="text-center text-gray-500 py-12">
                <p class="text-lg">‚ùå –ù–µ–º–∞ —Å–ø–æ–≤—ñ—â–µ–Ω—å.</p>
            </div>
        {% endfor %}
    </div>
</div>
{% endblock content %}
